{"version":3,"file":"index.es.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/classnames/index.js","../node_modules/style-inject/dist/style-inject.es.js","../src/index.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/**\n * @class ReactConsole\n */\n\nimport React, { CSSProperties } from 'react'\nimport classnames from 'classnames'\n\nimport styles from './styles.css'\n\n// @ts-ignore\nconst isIE11 = !!window.MSInputMethodContext && !!document.documentMode;\n\ntype CommandsProp = {\n  [command: string]: {\n    description?: string,\n    fn: (...args: any[]) => Promise<any>\n  }\n}\n\nexport type ReactConsoleProps = {\n  // general props\n  commands: CommandsProp,\n  noCommandFound: (...str: string[]) => Promise<string>,\n  autoFocus: boolean,\n  prompt: string,\n  welcomeMessage?: string | undefined,\n  // className props\n  wrapperClassName?: string,\n  promptWrapperClassName?: string,\n  promptClassName?: string,\n  lineClassName?: string,\n  inputClassName?: string,\n  // style props\n  wrapperStyle: CSSProperties,\n  promptWrapperStyle: CSSProperties,\n  promptStyle: CSSProperties,\n  lineStyle: CSSProperties,\n  inputStyle: CSSProperties,\n  // history props\n  history?: string[],\n  onAddHistoryItem?: (entry: string) => void,\n  onSanitizeOutputLine?: (line: string) => string,\n}\n\ntype ReactConsoleState = {\n  output: string[],\n  commandInProgress: boolean,\n  input: string,\n  historyPosition: number,\n  reverseSearchString?: string,\n  reverseSearchPosition: number,\n}\n\nexport default class ReactConsole extends React.Component<ReactConsoleProps, ReactConsoleState> {\n\n  inputRef: any = null;\n  wrapperRef: any = null;\n  reverseStringRef: any = null;\n\n  static defaultProps = {\n    prompt: '$',\n    autoFocus: false,\n    noCommandFound: (cmd: string) => Promise.resolve(`Command ${cmd} does not exist`),\n    wrapperStyle: {},\n    promptWrapperStyle: {},\n    promptStyle: {},\n    lineStyle: {},\n    inputStyle: {},\n  };\n\n  state = {\n    input: '',\n    output: [],\n    commandInProgress: false,\n    reverseSearchString: undefined,\n    historyPosition: Infinity,\n    reverseSearchPosition: Infinity,\n  };\n\n  componentDidMount() {\n    const {welcomeMessage} = this.props;\n    if (welcomeMessage) {\n      this.setState({\n        output: [welcomeMessage],\n      })\n    }\n    if (this.props.history !== undefined) {\n      this.setState({\n        historyPosition: this.props.history.length,\n      })\n    }\n  }\n\n  public clear = () => {\n    this.setState({output: [], input: ''})\n  };\n\n  public scrollToBottom = () => {\n    setTimeout(() => {\n      this.wrapperRef.scrollTop = this.wrapperRef.scrollHeight\n    })\n  };\n\n  /**\n   * Get filtered history entries based on reverse search string\n   */\n  private getReverseHistory = (): Array<boolean> => {\n    const {reverseSearchString} = this.state;\n    return this.props.history === undefined ?\n      []\n      : this.props.history.map(entry => (reverseSearchString === undefined || reverseSearchString === '') ?\n        // @ts-ignore\n        false : entry.indexOf(reverseSearchString) !== -1)\n  };\n\n  /**\n   * Takes current text of a main input and generates a string that will be outputted as a log.\n   */\n  private getCurrentTextSnapshot = (): string => {\n    const {prompt} = this.props;\n    const inputString: string = this.state.input;\n    return `${prompt}\\xa0${inputString}`;\n  };\n\n  private onSubmit = async (e: any) => {\n    e.preventDefault();\n\n    const inputString: string = this.state.input;\n    if (inputString === null) {\n      return\n    }\n\n    const log = this.getCurrentTextSnapshot();\n\n    if (inputString === '') {\n      this.setState({\n        output: [...this.state.output, log],\n        input: '',\n      });\n      this.scrollToBottom();\n      return\n    }\n\n    this.addHistoryEntry(inputString);\n\n    const [cmd, ...args] = inputString.split(\" \");\n\n    if (cmd === 'clear') {\n      this.clear();\n      return\n    }\n\n    const command = this.props.commands[cmd];\n\n    this.setState({commandInProgress: true});\n\n    if (command) {\n      const ret = await command.fn(...args);\n      this.setState({\n        output: [...this.state.output, log, ret]\n      })\n    } else {\n      const cmdNotFound = await this.props.noCommandFound(cmd, ...args);\n      this.setState({\n        output: [...this.state.output, log, cmdNotFound]\n      })\n    }\n    this.setState({commandInProgress: false, input: ''});\n    this.inputRef.focus()\n    this.scrollToBottom()\n  };\n\n  render() {\n    const {\n      wrapperClassName,\n      promptWrapperClassName,\n      promptClassName,\n      lineClassName,\n      inputClassName,\n      wrapperStyle,\n      promptWrapperStyle,\n      promptStyle,\n      lineStyle,\n      inputStyle,\n      prompt,\n      autoFocus,\n    } = this.props;\n\n    const sanitizeOutputLine = (line: string): string => {\n      const {onSanitizeOutputLine} = this.props;\n\n      if (typeof onSanitizeOutputLine === 'function') {\n        return onSanitizeOutputLine(line)\n      }\n\n      return line\n    }\n\n    return (\n      <div\n        className={classnames(styles.wrapper, wrapperClassName)}\n        style={{\n          overflowY: isIE11 ? \"scroll\" : \"auto\",\n          ...wrapperStyle,\n        }}\n        onClick={this.focusConsole}\n        ref={ref => this.wrapperRef = ref}\n      >\n        <div>\n          {this.state.output\n            .map(line => sanitizeOutputLine(line))\n            .map((line, key) =>\n              <pre\n                key={key}\n                className={classnames(styles.line, lineClassName)}\n                style={lineStyle}\n                dangerouslySetInnerHTML={{__html: line}}\n              />\n          )}\n        </div>\n        <form\n          onSubmit={this.onSubmit}\n        >\n          <div\n            className={classnames(styles.promptWrapper, promptWrapperClassName)}\n            style={promptWrapperStyle}\n          >\n            <span\n              className={classnames(styles.prompt, promptClassName)}\n              style={promptStyle}\n            >{prompt}&nbsp;</span>\n            <input\n              disabled={this.state.commandInProgress || this.isReverseSearchOn()}\n              ref={ref => this.inputRef = ref}\n              autoFocus={autoFocus}\n              value={this.state.input}\n              onChange={this.onInputChange}\n              onKeyDown={this.onKeyDown}\n              autoComplete={'off'}\n              spellCheck={false}\n              autoCapitalize={'false'}\n              name=\"input\"\n              className={classnames([styles.input, inputClassName])}\n              style={inputStyle}\n            />\n          </div>\n        </form>\n        {this.isReverseSearchOn() && <form onSubmit={this.onReverseSearchSubmit}>bck-i-search: <input\n          value={this.state.reverseSearchString}\n          ref={ref => this.reverseStringRef = ref}\n          onKeyDown={this.onReverseKeyDown}\n          className={classnames([styles.input, inputClassName])}\n          onChange={this.onReverseStringInputChange}\n        />\n        </form>}\n      </div>\n    )\n  }\n\n  /**\n   * Reverse search input handler\n   * @param event\n   */\n  private onReverseStringInputChange = (event: any) => {\n    this.setState({\n      reverseSearchString: event.target.value,\n    }, () => {\n      const history: Array<boolean> = this.getReverseHistory();\n      const historyIndex: number = history.lastIndexOf(true);\n      this.executeNextReverseSearch(historyIndex)\n    })\n  };\n\n  /**\n   * Invoked when pressed ctrl+r and already in a reverse search mode.\n   */\n  private nextReverseSearch = () => {\n    const history: Array<boolean> = this.getReverseHistory();\n    const endOffset = Math.max(0, this.state.reverseSearchPosition - 1); // so that we don't go from the end again\n    const historyIndex: number = history.lastIndexOf(true, endOffset);\n    this.executeNextReverseSearch(historyIndex)\n  };\n\n  /**\n   * Helper function that sets the history preview based on a requested history index.\n   * @param historyIndex\n   */\n  private executeNextReverseSearch = (historyIndex: number) => {\n    this.setState({\n      reverseSearchPosition: historyIndex,\n    });\n    if (historyIndex !== -1) {\n      this.setPreviewPosition(historyIndex)\n    }\n    if (this.state.reverseSearchString === '') {\n      this.setPreviewPosition(Infinity);\n    }\n  };\n\n  /**\n   * This function sets a given history entry as a main input element content.\n   * It's called when changing the preview of a 'current' history entry e.g. by ctrl+r call, or\n   * when pressing up/down arrow.\n   * @param historyPosition\n   */\n  private setPreviewPosition = (historyPosition: number) => {\n    if(this.props.history === undefined) {\n      return\n    }\n    this.setState({\n      historyPosition,\n      input: this.props.history[historyPosition] || '', // if an element history is out of bounds, we just set ''\n    });\n  };\n\n  /**\n   * Enables reverse search.\n   * The side effect is that we focus o reverse search input.\n   */\n  private onReverseSearch = () => {\n    // we enabled reverse search\n    this.setState({\n      reverseSearchString: '',\n    }, () => {\n      this.reverseStringRef.focus()\n    })\n  };\n\n  /**\n   * When reverse search is confirmed, we disable reverse search mode and keep the result.\n   * @param e\n   */\n  private onReverseSearchSubmit = (event: any) => {\n    event.preventDefault();\n    this.disableReverseSearch();\n  };\n\n  /**\n   * Main input change handler.\n   * @param event\n   */\n  private onInputChange = (event: any) => {\n    this.setState({\n      input: event.target.value,\n    })\n  };\n\n  /**\n   * Helper function to determine whether reverse search is active or not.\n   */\n  private isReverseSearchOn = (): boolean => this.state.reverseSearchString !== undefined;\n\n  /**\n   * Disables reverse search mode.\n   * @param keepPreviewString - determines whether the result of a reverse search should be kept or not\n   */\n  private disableReverseSearch = (keepPreviewString: boolean = true) => {\n    this.setState({\n      reverseSearchString: undefined,\n    });\n    if (!keepPreviewString) {\n      this.setState({\n        input: '',\n      })\n    }\n    setTimeout(() => {\n      this.inputRef.focus();\n    });\n  };\n\n  /**\n   * onKeyDown implementation of a reverse search input.\n   * @param event\n   */\n  private onReverseKeyDown = (event: any) => {\n    if (event.which === 38 || event.which === 40) { // up or down\n      this.disableReverseSearch()\n      event.preventDefault();\n    } else if (event.which === 67 && event.ctrlKey) { // ctrl + c\n      this.disableReverseSearch(false);\n      event.preventDefault();\n    } else if (event.which === 82 && event.ctrlKey) { // ctrl + r\n      this.nextReverseSearch();\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * onKeyDown implementation of a main input.\n   * @param event\n   */\n  private onKeyDown = (event: any) => {\n    if (event.which === 38) { // key up\n      if(this.props.history === undefined) {\n        return\n      }\n\n      const currentPos = Math.min(this.state.historyPosition, this.props.history.length);\n      const historyPosition = Math.max(0, currentPos - 1);\n      this.setPreviewPosition(historyPosition);\n      event.preventDefault()\n    } else if (event.which === 40) {\n      if(this.props.history === undefined) {\n        return\n      }\n      const historyPosition = Math.min(this.props.history.length, this.state.historyPosition + 1);\n      this.setPreviewPosition(historyPosition);\n      event.preventDefault()\n    } else if (event.which === 82 && event.ctrlKey) { // ctrl + r\n      if(this.props.history === undefined) {\n        return\n      }\n      this.onReverseSearch()\n      event.preventDefault()\n    } else if (event.which === 67 && event.ctrlKey) { // ctrl + c\n      this.setState({\n        output: [...this.state.output, this.getCurrentTextSnapshot()],\n        input: '',\n      });\n      this.scrollToBottom();\n      event.preventDefault()\n    }\n  };\n\n  /**\n   * Focuses console input.\n   * Whenever an user clicks on a terminal, we want to focus an actual input where he/she can type.\n   */\n  public focusConsole = () => {\n    if (this.inputRef) {\n      if (document.getSelection()!.isCollapsed) {\n        this.inputRef.focus()\n      }\n    }\n  };\n\n  /**\n   * Calls onAddHistoryItem property and sets historyPosition to a default value.\n   * @param inputString\n   */\n  private addHistoryEntry = (inputString: string) => {\n    const {onAddHistoryItem} = this.props;\n    if (typeof onAddHistoryItem === 'function') {\n      onAddHistoryItem(inputString);\n    }\n    this.setState({\n      historyPosition: Infinity,\n    })\n  }\n}\n"],"names":[],"mappings":"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"}